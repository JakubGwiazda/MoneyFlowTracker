<section class="flex flex-col gap-6">
    <header class="space-y-1">
      <h1 class="text-2xl font-semibold text-gray-900">Lista wydatków</h1>
      <p class="text-sm text-gray-600">
        Zarządzaj wydatkami, filtruj według daty i statusu klasyfikacji, a także dodawaj nowe pozycje.
      </p>
    </header>

    <mat-tab-group class="tab_group">
      <mat-tab label="Lista wydatków">        
        <div class="flex flex-col gap-6">
            <app-expenses-filters
            [value]="vm().filters"
            [loading]="vm().loading"
            [categories]="categoryOptions()"
            (filterChange)="onFilterChange($event)"
            (addExpenseClick)="onAddExpense()"
            (categorySearch)="onCategorySearch($event)"
          />
        </div>
        <div class="flex flex-col gap-6 py-4">
          <section class="rounded-lg border border-gray-200 bg-white">
            <app-expenses-table
              [data]="vm().expenses"
              [loading]="vm().loading"
              [sortState]="vm().sort"
              (sortChange)="onSortChange($event)"
              (editExpense)="onEditExpense($event)"
              (editCategory)="onEditCategory($event)"
              (reclassifyExpense)="onReclassifyExpense($event)"
              (deleteExpense)="onDeleteExpense($event)"
            />
          </section>

          <section class="rounded-lg border border-gray-200 bg-white p-4">
            <app-pagination-controls
              [state]="vm().pagination"
              [disabled]="vm().loading"
              (pageChange)="onPageChange($event)"
              (perPageChange)="onPerPageChange($event)"
            />
          </section>
        </div>
      </mat-tab>

      <mat-tab label="Kategorie">
        <div class="py-4">
          <app-expenses-filters
            [value]="vm().filters"
            [loading]="vm().loading"
            [categories]="categoryOptions()"
            (filterChange)="onFilterChange($event)"
            (addExpenseClick)="onAddExpense()"
            (categorySearch)="onCategorySearch($event)"
          />
        </div>
      </mat-tab>
    </mat-tab-group>
  </section>